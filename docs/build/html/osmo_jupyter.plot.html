

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>osmo_jupyter.plot package &mdash; osmo-jupyter  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> osmo-jupyter
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">osmo_jupyter.plot package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-osmo_jupyter.plot.color_from_temperature">osmo_jupyter.plot.color_from_temperature module</a></li>
<li><a class="reference internal" href="#module-osmo_jupyter.plot.do_calibration">osmo_jupyter.plot.do_calibration module</a></li>
<li><a class="reference internal" href="#module-osmo_jupyter.plot.heatmap">osmo_jupyter.plot.heatmap module</a></li>
<li><a class="reference internal" href="#module-osmo_jupyter.plot.scatter">osmo_jupyter.plot.scatter module</a></li>
<li><a class="reference internal" href="#module-osmo_jupyter.plot">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">osmo-jupyter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>osmo_jupyter.plot package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/osmo_jupyter.plot.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="osmo-jupyter-plot-package">
<h1>osmo_jupyter.plot package<a class="headerlink" href="#osmo-jupyter-plot-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-osmo_jupyter.plot.color_from_temperature">
<span id="osmo-jupyter-plot-color-from-temperature-module"></span><h2>osmo_jupyter.plot.color_from_temperature module<a class="headerlink" href="#module-osmo_jupyter.plot.color_from_temperature" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="osmo_jupyter.plot.color_from_temperature.color_from_temperature">
<code class="descclassname">osmo_jupyter.plot.color_from_temperature.</code><code class="descname">color_from_temperature</code><span class="sig-paren">(</span><em>temperature</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.color_from_temperature.color_from_temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic color scale going from blue at the minimum temperature to red at the max temperature.
Note: this corresponds to the behavior of the Bluered color scale implemented by plotly - when setting marker</p>
<blockquote>
<div><p>color, use that instead. This can be used for line color.</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-osmo_jupyter.plot.do_calibration">
<span id="osmo-jupyter-plot-do-calibration-module"></span><h2>osmo_jupyter.plot.do_calibration module<a class="headerlink" href="#module-osmo_jupyter.plot.do_calibration" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="osmo_jupyter.plot.do_calibration.calibration_error_plot">
<code class="descclassname">osmo_jupyter.plot.do_calibration.</code><code class="descname">calibration_error_plot</code><span class="sig-paren">(</span><em>predicted_do</em>, <em>actual_do</em>, <em>temperature</em>, <em>fit_title</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.do_calibration.calibration_error_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot showing the error in predicted DO as distributed over DO and temperature</p>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.do_calibration.plot_calibration">
<code class="descclassname">osmo_jupyter.plot.do_calibration.</code><code class="descname">plot_calibration</code><span class="sig-paren">(</span><em>sensor_data: pandas.core.frame.DataFrame, fit_params: List[float], title: str, estimate_do_fn: Callable, estimate_optical_reading_fn: Callable</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.do_calibration.plot_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize sensor in the context of a curve fit and fit parameters, including numerical measures of fit quality.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>sensor_data: pandas DataFrame of observations. should have the following columns:</dt><dd><p>timestamp, Temperature (C), DO (% sat), SR reading</p>
</dd>
</dl>
<p>fit_params: Fit parameters for the curve function connecting optical reading with DO and temperature
title: Title of fit, to use in plots
estimate_do_fn: Function of ((optical reading, temperature), <a href="#id1"><span class="problematic" id="id2">*</span></a>fit_params) which provides a DO estimate in % sat
estimate_optical_reading_fn:</p>
<blockquote>
<div><p>Function of ((DO, temperature), <a href="#id3"><span class="problematic" id="id4">*</span></a>fit_params) which provides an optical reading estimate</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>None. Produces plots and printed data frame</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-osmo_jupyter.plot.heatmap">
<span id="osmo-jupyter-plot-heatmap-module"></span><h2>osmo_jupyter.plot.heatmap module<a class="headerlink" href="#module-osmo_jupyter.plot.heatmap" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="osmo_jupyter.plot.heatmap.cut_array2d">
<code class="descclassname">osmo_jupyter.plot.heatmap.</code><code class="descname">cut_array2d</code><span class="sig-paren">(</span><em>array</em>, <em>block_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.heatmap.cut_array2d" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Cuts up an array into blocks of shape <cite>block_shape</cite>. If <cite>block_shape</cite> doesn’t factor perfectly into the</dt><dd><p>shape of the array, drops data from the right and bottom edges of the input <cite>array</cite>.
Heavily, heavily adapted from <a class="reference external" href="https://stackoverflow.com/a/17385776/1701416">https://stackoverflow.com/a/17385776/1701416</a></p>
</dd>
<dt>Args:</dt><dd><p>array: a 2D numpy array
block_shape: a 2-tuple. The shape of the blocks you want the <cite>array</cite> to be cut into</p>
</dd>
<dt>Return:</dt><dd><dl class="simple">
<dt>(block_centers, blocks) tuple where</dt><dd><p>block_centers: a 1D array of 2-tuple coordinates for the centers of the sliced blocks
blocks: a 1D array of blocks of shape <cite>block_shape</cite></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.heatmap.display_heatmap">
<code class="descclassname">osmo_jupyter.plot.heatmap.</code><code class="descname">display_heatmap</code><span class="sig-paren">(</span><em>array</em>, <em>display_decimals=2</em>, <em>title='Heatmap'</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.heatmap.display_heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the heatmap figure from provided array</p>
<dl class="simple">
<dt>Args:</dt><dd><p>array: A 2D numpy array to render as a heatmap
display_decimals: Optional (default=2). the number of decimals to round to in the annotation
title: Optional (default=’Heatmap’)</p>
</dd>
<dt>Returns:</dt><dd><p>A heatmap Figure.
Can be displayed in a jupyter notebook using the display() function.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.heatmap.get_block_means_2d">
<code class="descclassname">osmo_jupyter.plot.heatmap.</code><code class="descname">get_block_means_2d</code><span class="sig-paren">(</span><em>block_centers</em>, <em>blocks</em>, <em>averaging_function=&lt;function mean&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.heatmap.get_block_means_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Given 1D arrays of block_centers and blocks, construct a 2D array of block means.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>block_centers: a 1D array of 2-tuple coordinates for the centers of the sliced blocks
blocks: a 1D array of 2D blocks
averaging_function: Optional (default=np.mean). Function to use to get the average of each block (a 2D array)</p>
</dd>
<dt>Returns:</dt><dd><p>a 2D array of block means</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.heatmap.heatmapify">
<code class="descclassname">osmo_jupyter.plot.heatmap.</code><code class="descname">heatmapify</code><span class="sig-paren">(</span><em>array</em>, <em>averaging_function=&lt;function mean&gt;</em>, <em>block_shape=(50</em>, <em>50)</em>, <em>display_decimals=2</em>, <em>title='Heatmap'</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.heatmap.heatmapify" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Constructs a heatmap from a 2D array. The heatmap is created by slicing the array into blocks the size of</dt><dd><p><cite>block_shape</cite>, and then averaging each block.</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>array: A 2D numpy array to render as a heatmap. e.g. a single channel of an RGB image:</dt><dd><p>array = image[:, :, channel]  # channel is 0, 1, or 2, for r, g, b respectively</p>
</dd>
</dl>
<p>averaging_function: Optional (default=np.mean). Function to use to get the average of each block (a 2D array)
block_shape: Optional (default=(50,50)). The shape of block to group by and average over to create the heatmap
display_decimals: Optional (default=2). The number of decimals to round to in the annotation
title: Optional (default=’Heatmap’).</p>
</dd>
<dt>Returns:</dt><dd><p>A heatmap Figure.
Can be displayed in a jupyter notebook using the display() function.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-osmo_jupyter.plot.scatter">
<span id="osmo-jupyter-plot-scatter-module"></span><h2>osmo_jupyter.plot.scatter module<a class="headerlink" href="#module-osmo_jupyter.plot.scatter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="osmo_jupyter.plot.scatter.get_layout_with_annotations">
<code class="descclassname">osmo_jupyter.plot.scatter.</code><code class="descname">get_layout_with_annotations</code><span class="sig-paren">(</span><em>x_axis_title='Time'</em>, <em>y_axis_title=''</em>, <em>colors_on_separate_axes=False</em>, <em>events=None</em>, <em>**additional_layout_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.scatter.get_layout_with_annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a go.Layout instance prepared for our standard graphing needs</p>
<p>Notes re. our standard layout:
* The primary Y axis (y0) is reserved for annotations. This is done to guarantee that annotations show
* If colors are on separate axes, they will be on the next consecutive axes, otherwise they will be on yaxis 2
* You can use additional axes for plotting other things by passing in additional params</p>
<dl>
<dt>Args:</dt><dd><p>x_axis_title: title to use for X axis, default ‘Time’
y_axis_title: title to use for Y axis where colors are plotted. Required if colors_on_separate_axes is False.</p>
<blockquote>
<div><p>If colors_on_separate_axes is True, it will be used as a suffix for the y axis titles “r”, “g”, and “b”</p>
</div></blockquote>
<p>colors_on_separate_axes: whether colors (r,g and b) should be displayed on separate Y axes
events: dictionary of {“annotation”: x_axis_value} which will be used to annotate the chart
additional_layout_kwargs: Any additional arguments will be passed to go.Layout. These can, for instance,</p>
<blockquote>
<div><p>be the result of _axis_kwargs() to add support for graphing more items.
Valid options are documented at <a class="reference external" href="https://plot.ly/python/reference/#layout">https://plot.ly/python/reference/#layout</a></p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.scatter.get_rgb_scatters">
<code class="descclassname">osmo_jupyter.plot.scatter.</code><code class="descname">get_rgb_scatters</code><span class="sig-paren">(</span><em>rgb_df, x_column=None, colors_on_separate_axes=False, dataset_name=None, marker_overrides=None, scatter_overrides=None, colors_to_include=['r', 'g', 'b']</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.scatter.get_rgb_scatters" title="Permalink to this definition">¶</a></dt>
<dd><p>get go.Scatter instances for each ‘rgb’ color in the input DataFrame</p>
<p>example usage:
&gt;&gt;&gt; import pandas as  pd
&gt;&gt;&gt; import plotly.graph_objs as go
&gt;&gt;&gt; rgb_df = pd.DataFrame({‘r’: [1,2,3], ‘g’: [2,3,4], ‘b’: [3,4,5], ‘x_axis’: [0,1,2]})
&gt;&gt;&gt; go.FigureWidget(rgb_scatters(rgb_df, x_column=’x_axis’))
[result is a plot with your three channels]</p>
<dl>
<dt>Args:</dt><dd><p>rgb_df: pandas.DataFrame instance with ‘r’, ‘g’, and ‘b’ columns, and a column for the X axis value
x_column: Optional, name of the column in rgb_df to use for the X axis values. if None, we’ll use the index
colors_on_separate_axes: Optional, if True, will plot each color series on a separate axis
dataset_name: Optional, string to use in legend labels
marker_overrides: Optional, dict of additional arguments for go.Marker.</p>
<blockquote>
<div><p>Valid options are documented at <a class="reference external" href="https://plot.ly/python/reference/#scatter-marker">https://plot.ly/python/reference/#scatter-marker</a></p>
</div></blockquote>
<dl class="simple">
<dt>scatter_overrides: Optional, dict of additional_arguments for go.Scatter.</dt><dd><p>Valid options are documented at <a class="reference external" href="https://plot.ly/python/reference/#scatter">https://plot.ly/python/reference/#scatter</a></p>
</dd>
<dt>colors_to_include: Optional list of color letters to include - provide if you don’t want all the colors.</dt><dd><p>Should be a subset of COLOR_CHANNELS.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>list of go.Scatter objects, one each for r, g, and b or colors_to_include if provided</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="osmo_jupyter.plot.scatter.get_scatter">
<code class="descclassname">osmo_jupyter.plot.scatter.</code><code class="descname">get_scatter</code><span class="sig-paren">(</span><em>y_values</em>, <em>x_values=None</em>, <em>dataset_name=None</em>, <em>y_axis_number=1</em>, <em>marker_overrides=None</em>, <em>scatter_overrides=None</em><span class="sig-paren">)</span><a class="headerlink" href="#osmo_jupyter.plot.scatter.get_scatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick way to get a go.Scatter to put on your plot with some conveniences.</p>
<dl>
<dt>Args:</dt><dd><p>y_values: iterable of Y values can be a pandas Series or whatever
x_values: Optional, X values to go along with those. If not provided, y_values is expected to be a Series and</p>
<blockquote>
<div><p>we’ll use the index from it</p>
</div></blockquote>
<dl class="simple">
<dt>dataset_name: Optional, name to put in the chart legend. If not provided, y_values is expected to be a Series</dt><dd><p>and we’ll use its name</p>
</dd>
<dt>y_axis_number: Optional, Y-axis number. Defaults to the primary (1) Y axis. Note that axes 2-4 are used for</dt><dd><p>RGB values.</p>
</dd>
<dt>marker_overrides: Optional, dict of go.Scatter.Marker attributes to override marker style.</dt><dd><p>Valid options are documented at <a class="reference external" href="https://plot.ly/python/reference/#scatter-marker">https://plot.ly/python/reference/#scatter-marker</a></p>
</dd>
<dt>scatter_overrides: Optional, dict of go.Scatter attributes to override the Scatter.</dt><dd><p>Valid options are documented at <a class="reference external" href="https://plot.ly/python/reference/#scatter">https://plot.ly/python/reference/#scatter</a></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-osmo_jupyter.plot">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-osmo_jupyter.plot" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-05-13T16:40:14.366248, dev@osmobot.com

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>